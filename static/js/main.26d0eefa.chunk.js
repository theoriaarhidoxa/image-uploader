(this.webpackJsonpfcc2=this.webpackJsonpfcc2||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(17),i=n.n(s),r=(n(23),n(24),n(11)),l=n(2),o=n(13),j=n(15),p=n.n(j),b=n(18),d=n(6),u="static/media/cloud-icon_on.28fb157d.svg",f=n(7),x=(n(16),n(0));f.a.apps.length?f.a.app():f.a.initializeApp({apiKey:"AIzaSyABsZayhyap7VemkqfhinX4gdRgXUEV-tw",authDomain:"imageuploader2-b3cb3.firebaseapp.com",projectId:"imageuploader2-b3cb3",storageBucket:"imageuploader2-b3cb3.appspot.com",messagingSenderId:"244612194682",appId:"1:244612194682:web:8572ebd8244e6e7930b6c3"});var h=f.a.storage(),O=function(){var e=Object(c.useRef)(),t=Object(c.useState)([]),n=Object(d.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!1),l=Object(d.a)(i,2),j=l[0],f=l[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",{type:"file",multiple:!0,ref:e,onChange:function(e){s([]);var t=e.target.files;t=Array.from(t),s(t.map((function(e,t){var n=Object.assign(e,{});return n.id=(new Date).getTime()+t,n.uploadProgress=0,n}))),t.forEach((function(e,t){var n=new FileReader;n.onload=function(){var e=Object(b.a)(p.a.mark((function e(n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.target.result;case 2:return c=e.sent,e.next=5,n.timeStamp;case 5:a=e.sent,s((function(e){return e.map((function(e,n){if(t===n){var s=Object.assign(e);return s.src=c,s.timeStamp=a,s.order=t+1,s}return e}))}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsDataURL(e)}))},accept:"image/*"}),0===a.length&&Object(x.jsxs)("h2",{children:[Object(x.jsx)("img",{src:u,alt:""}),"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f..."]}),Object(x.jsxs)("div",{className:"wrapper__buttons",children:[Object(x.jsx)("input",{type:"button",disabled:j,className:"btn",value:a.length?"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c":"\u041d\u0430\u0447\u0430\u0442\u044c",onClick:function(){e.current.click()}}),a.length>0&&Object(x.jsx)("input",{type:"button",disabled:j,onClick:function(){f(!0),a.forEach((function(e){var t=h.ref("/upload/".concat(e.name)).put(e),n=a.length;t.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100,c=a.find((function(t){return t.size===e.totalBytes}));c.uploadProgress=parseInt(t),s([].concat(Object(o.a)(a),[c]).slice(0,n))}),(function(e){}),(function(){}))}))},className:"btn red",value:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),j&&Object(x.jsx)("input",{type:"button",className:"btn",value:"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e",onClick:function(){s([]),f(!1)}})]}),Object(x.jsx)("div",{className:"wrapper__previews",onClick:function(){return console.log(a)},children:a.sort((function(e,t){return e.order-t.order})).map((function(e){return Object(x.jsxs)("div",{className:"wrapper__previews-item",children:[Object(x.jsx)("img",{src:e.src,alt:""}),!j&&Object(x.jsx)("i",{onClick:function(){return t=e.id,void s(a.filter((function(e){return e.id!==t})));var t}}),Object(x.jsxs)("p",{className:j?"panel hiddenPanel":"panel",children:[Object(x.jsx)("span",{children:e.name}),Object(x.jsx)("span",{children:"".concat((e.size/1e3).toFixed(1)," Kb")})]}),j&&Object(x.jsxs)("p",{className:"panel bluePanel",children:[Object(x.jsxs)("span",{style:100===e.uploadProgress?{color:"#fff"}:null,children:[e.uploadProgress,"%"]}),Object(x.jsx)("em",{style:{width:e.uploadProgress+"%"}})]})]},e.id)}))}),j&&Object(x.jsx)("span",{className:"fixedBottomRight",children:Object(x.jsx)(r.b,{to:"/list",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432"})})]})},m=(n(28),function(){return Object(x.jsx)("div",{className:"loaderWrap",children:Object(x.jsx)("div",{className:"loadingio-spinner-blocks-mty7grqp7kl",children:Object(x.jsxs)("div",{className:"ldio-qw2vmiyfhg",children:[Object(x.jsx)("div",{style:{left:"38px",top:"38px",animationDelay:"0s"}}),Object(x.jsx)("div",{style:{left:"80px",top:"38px",animationDelay:"0.125s"}}),Object(x.jsx)("div",{style:{left:"122px",top:"38px",animationDelay:"0.25s"}}),Object(x.jsx)("div",{style:{left:"38px",top:"80px",animationDelay:"0.875s"}}),Object(x.jsx)("div",{style:{left:"122px",top:"80px",animationDelay:"0.375s"}}),Object(x.jsx)("div",{style:{left:"38px",top:"122px",animationDelay:"0.75s"}}),Object(x.jsx)("div",{style:{left:"80px",top:"122px",animationDelay:"0.625s"}}),Object(x.jsx)("div",{style:{left:"122px",top:"122px",animationDelay:"0.5s"}})]})})})});f.a.apps.length?f.a.app():f.a.initializeApp({apiKey:"AIzaSyABsZayhyap7VemkqfhinX4gdRgXUEV-tw",authDomain:"imageuploader2-b3cb3.firebaseapp.com",projectId:"imageuploader2-b3cb3",storageBucket:"imageuploader2-b3cb3.appspot.com",messagingSenderId:"244612194682",appId:"1:244612194682:web:8572ebd8244e6e7930b6c3"});var g=f.a.storage(),v=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),i=Object(d.a)(s,2),l=i[0],j=i[1],p=Object(c.useState)(!1),b=Object(d.a)(p,2),u=b[0],f=b[1];Object(c.useEffect)((function(){h()}),[]);var h=function(){g.ref().child("/upload").listAll().then((function(e){e.items.forEach((function(e){e.getDownloadURL().then((function(e){j((function(t){return[].concat(Object(o.a)(t),[e])}))})).catch((function(e){}))})),e.prefixes.forEach((function(e){console.log("folder",e._delegate._location.path_.split("/")[1])}))})).catch((function(e){})).finally((function(){a(!1)}))};return n?Object(x.jsx)(m,{}):Object(x.jsxs)(x.Fragment,{children:[u&&Object(x.jsx)("h2",{style:{padding:"70px 0 30px 0"},children:"\u0412\u0441\u0435 \u0440\u0430\u043d\u0435\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0443\u0434\u0430\u043b\u0435\u043d\u044b. \u0418\u043d\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u044d\u0442\u0443 \u043d\u0430\u0434\u043f\u0438\u0441\u044c \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f."}),Object(x.jsx)("div",{className:"wrapper__filesList",children:Object(x.jsx)("table",{children:Object(x.jsx)("tbody",{children:l.map((function(e){return Object(x.jsxs)("tr",{className:"wrapper__filesList-item",children:[Object(x.jsx)("td",{children:Object(x.jsx)("img",{src:e,alt:""})}),Object(x.jsx)("td",{children:Object(x.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:e})}),Object(x.jsx)("td",{children:Object(x.jsx)("button",{className:"btn",onClick:function(t){return function(e,t){t.target.disabled=!0,g.refFromURL(e).delete().then((function(){j(l.filter((function(t){return t!==e}))),l.length<2&&f(!0)})).catch((function(e){}))}(e,t)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},e)}))})})}),Object(x.jsx)("span",{className:"fixedBottomRight",children:Object(x.jsx)(r.b,{to:"/",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a\u0443"})})]})},y=function(){return Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsxs)("p",{children:["\u0412\u043e\u0442 ",Object(x.jsx)("a",{href:"https://www.youtube.com/watch?v=5vx2PVClSVU",target:"_blank",rel:"noreferrer",children:"\u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u0435\u043d\u0438\u044f"})," \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e\xa0\u043f\u0440\u043e\u0435\u043a\u0442\u0430.",Object(x.jsx)("br",{})," \u041a\u0442\u043e-\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u043d \u0435\u0433\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043b\u044e\u0431\u043e\u043c \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0435, \u043e\u0442\u043c\u0435\u0447\u0430\u0435\u0442 \u0430\u0432\u0442\u043e\u0440 \u043a\u0430\u043d\u0430\u043b\u0430 \u0432 \u043a\u043e\u043d\u0446\u0435 \u0440\u043e\u043b\u0438\u043a\u0430.",Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]}),Object(x.jsx)(r.a,{children:Object(x.jsxs)(l.c,{children:[Object(x.jsx)(l.a,{path:"/",exact:!0,element:Object(x.jsx)(O,{})}),Object(x.jsx)(l.a,{path:"/list",element:Object(x.jsx)(v,{})})]})})]})};i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(y,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.26d0eefa.chunk.js.map